<!doctype html>
<html>

<head>
    <title>Using UMD in the Browser</title>
    <script src="dist/index.browser.js"></script>
</head>

<body>

    This page takes an object and puts it through the Universal Module Definition (UMD) bundled by webpack,
    and uses it to parse a key. The output is printed in the console log.

    <!-- Dosen't work, needs a bundled test page and something goes awry -->
    <!-- <div id="mocha"></div>

    <script src="https://unpkg.com/chai/chai.js"></script>
    <script src="https://unpkg.com/mocha/mocha.js"></script>

    <script class="mocha-init">
        mocha.setup('bdd');
        mocha.checkLeaks();
    </script>
    <script src="test/test.in.browser.js"></script>
    <script class="mocha-exec">
        mocha.run();
    </script> -->


    <script>
        /* HOW TO USE parseKey from joseutils ? */
        const thejwt = {
            alg: 'ES256',
            crv: 'P-256',
            kty: 'EC',
            d: 'VhsfgSRKcvHCGpLyygMbO_YpXc7bVKwi12KQTE4yOR4',
            x: 'ySK38C1jBdLwDsNWKzzBHqKYEE5Cgv-qjWvorUXk9fw',
            y: '_LeQBw07cf5t57Iavn4j-BqJsAD1dpoz8gokd3sBsOo'
        }
        /* Answer: */
        joseutils.parseKey(thejwt).then((parsedKey) => {

            console.log({parsedKey})
        })
    </script>
</body>

</html>